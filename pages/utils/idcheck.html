<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" href="../../assets/images/logo.png" type="image/x-icon">
  <meta name="description" content="Responsive Bootstrap HTML Mobile Application Template - Free Download">
  <title>身份证格式校验</title>
  <link rel="stylesheet" href="../../assets/css/googleapis1.css">
  <link rel="stylesheet" href="../../assets/css/googleapis2.css">
  <link rel="stylesheet" href="../../assets/css/googleapis3.css">
  <link rel="stylesheet" href="../../assets/bootstrap-material-design-font/css/material.css">
  <link rel="stylesheet" href="../../assets/web/assets/mobirise-icons/mobirise-icons.css">
  <link rel="stylesheet" href="../../assets/et-line-font-plugin/style.css">
  <link rel="stylesheet" href="../../assets/tether/tether.min.css">
  <link rel="stylesheet" href="../../assets/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="../../assets/dropdown/css/style.css">
  <link rel="stylesheet" href="../../assets/animate.css/animate.min.css">
  <link rel="stylesheet" href="../../assets/theme/css/style.css">
  <link rel="stylesheet" href="../../assets/mobirise/css/mbr-additional.css" type="text/css">
</head>
<body>
<div id="menu-0" custom-code="true">
<section class="mbr-section mbr-section__container article" id="header3-k" style="background-color: rgb(244, 244, 244); padding-top: 60px; padding-bottom: 0px;">
    <div class="container">
        <div class="row">
            <div class="col-xs-12">
                <h3 class="mbr-section-title display-2" style="font-size: 34px;">身份证校验</h3>
            </div>
        </div>
    </div>
</section>
<section class="mbr-section article mbr-section__container" id="content1-j" style="background-color: rgb(244, 244, 244); padding-top: 20px; padding-bottom: 20px;">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 lead" style="text-align:left;">
                <div style="text-align: center;">前端离线校验</div><br /><br />
				  <span>请输入身份证号：</span><input type="text" class="form-control" style="width: 70%;display: inline;margin: 0px 20px;" placeholder="身份证号" id="id" name="id">
			      <button id="check" type="button" class="btn btn-success">校验</button>
				<br /><br />
            </div>
            <div class="col-xs-12 lead" style="text-align:left;">
		        <div class="alert alert-success alert-dismissible" style="display: none;">
				    <button type="button" class="close" data-dismiss="alert" style="margin-right: 20px;">&times;</button>
				    <strong class="result"></strong>
				</div>
				<div class="alert alert-danger alert-dismissible" style="display: none;">
				    <button type="button" class="close" data-dismiss="alert" style="margin-right: 20px;">&times;</button>
				    <strong class="result"></strong>
				</div>
            </div>
        </div>
    </div>
</section>
<section class="mbr-section article" id="msg-box22-g" style="padding-top: 40px; padding-bottom: 20px;">
    <div class="mbr-overlay" style="background-color: #f4f4f4;">
    </div>
    <div class="container">
        <div class="row">
            <div class="col-md-8 col-md-offset-2 text-xs-center">
                <p>Copyright &copy; 2015 - 2022 Gaofeicm Inc.All Rights Reserved.</p>
                <p><a href="http://www.miitbeian.gov.cn">赣ICP备17008005号</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://www.gaofeicm.cn/utils/idcheck.html">身份证校验</a></p>
            </div>
        </div>
    </div>
</section>
  <script src="../../assets/web/assets/jquery/jquery.min.js"></script>
  <script src="../../assets/tether/tether.min.js"></script>
  <script src="../../assets/bootstrap/js/bootstrap.min.js"></script>
  <script src="../../assets/smooth-scroll/smooth-scroll.js"></script>
  <script src="../../assets/dropdown/js/script.min.js"></script>
  <script src="../../assets/touch-swipe/jquery.touch-swipe.min.js"></script>
  <script src="../../assets/viewport-checker/jquery.viewportchecker.js"></script>
  <script src="../../assets/jarallax/jarallax.js"></script>
  <script src="../../assets/theme/js/script.js"></script>
  <script type="text/javascript">
  	var COEFFICIENT = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2];
  	var REMAINDER_RULE = ["1", "0", "X", "9", "8", "7", "6", "5", "4", "3", "2"];
  	var REGEX_ID_CARD18 = /^(\d{6})(\d{4})(\d{2})(\d{2})(\d{3})([0-9]|X)$/;
  	var ID_LENGTH = 18;
  	$("#check").click(function(){
  		var id = $("#id").val();
  		$(".alert-success").hide();
  		$(".alert-danger").hide();
  		check(id);
  	});
  	function check(id){
  		//校验长度
        if (id.length != ID_LENGTH) {
            $(".result").html("身份证：" + id + " 长度有误！");
  			$(".alert-danger").show(300);
        } else {
        	if(!REGEX_ID_CARD18.test(id)){
        		$(".result").html("身份证：" + id + " 格式有误！");
  				$(".alert-danger").show(300);
  				return;
        	}
            var checkCode = id.substring(17, 18);
            checkCode = checkCode === "x" ? "X" : checkCode;
            var ids = id.substring(0, 17).split("");
            var total = 0;
            for (var i = 0; i < ids.length; i++) {
                total += ids[i] * COEFFICIENT[i];
            }
            var remainder = total % 11;
            var lastCode = REMAINDER_RULE[remainder];
            $(".result").html("身份证：" + id + (checkCode === lastCode ? " 是正确的✓" : " 是错误的x"));
  			$(".alert-success").show(300);
        }
  	}
  </script>
  </body>
</html>
